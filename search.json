[{"title":"HttpClient+Jsoup 抓取网页信息（网易贵金属为例）","url":"/2018/06/06/HttpClient+Jsoup 抓取网页信息（网易贵金属为例）/","content":"## HttpClient+Jsoup 抓取网页信息（网易贵金属为例）\n\n\n废话不多说直接讲讲今天要做的事。\n\n利用HttpClient和Jsoup技术抓取网页信息。HttpClient是支持HTTP协议的客户端编程工具包，并且它支持HTTP协议。\n\n<The rest of contents | 余下全文>\n\njsoup 是一款基于 Java 平台的 网页html解析器，可直接解析某个 URL 地址、HTML 文本内容，提供了一套非常方便的 API接口，通过类似于 jQuery 的操作方法来操作数据。\n\nhttpClient相关文档:http://hc.apache.org/httpcomponents-client-5.0.x/index.html\n\njsoup相关文档:http://jsoup.org/\n\n此处以网易贵金属资讯为例进行案例教学 O(∩_∩)O\n\n![这里写图片描述](http://img.blog.csdn.net/20170414130035210?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQ2xheV9aaGFuZw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n然后我们首先要分析网页源代码的结构\n\n![这里写图片描述](http://img.blog.csdn.net/20170414130105563?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQ2xheV9aaGFuZw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n之后我们就可以开始进行编程了，首先我们要知道利用httpClient的流程：\n\n　　1. 创建HttpClient的对象；\n\n　　2. 创建请求方法的实例，并指定访问的URL；\n\n　　3. 调用HttpClient对象发送请求，该方法返回一个HttpResponse，要判断responce.getStatusLine().getStatusCode()的返回码是否为200；\n\n　　4. 调用HttpResponse相关方法获取相应内容；\n\n　　5. 释放连接。\n\n当然啦 创建项目的时候要导入相关的jar包，本文会提供源码+jar包http://pan.baidu.com/s/1sl55d85\n\n StockUtils.java\n \n\n```\npackage cn.clay.httpclient.utils;\n\nimport java.io.IOException;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpStatus;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\n\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n/**\n * 传递网页链接\n * 返回网页源码\n * @author ClayZhang\n *\n */\npublic class StockUtils {\n\t//第一次获取网页源码\n\tpublic static String getHtmlByUrl(String url) throws IOException{  \n        String html = null;  \n        CloseableHttpClient httpClient = HttpClients.createDefault();//创建httpClient对象   \n        HttpGet httpget = new HttpGet(url);//以get方式请求该URL\n        try {  \n            HttpResponse responce = httpClient.execute(httpget);//得到responce对象       \n            int resStatu = responce.getStatusLine().getStatusCode();//返回码\n            if (resStatu == HttpStatus.SC_OK) {//200正常  其他就不对\n                //获得相应实体  \n                HttpEntity entity = responce.getEntity();  \n                if (entity != null) {  \n                    html = EntityUtils.toString(entity);//获得html源代码\n                }  \n            }  \n        } catch (Exception e) {\n        \tSystem.out.println(\"访问【\"+url+\"】出现异常!\");  \n            e.printStackTrace();  \n        } finally {\n        \t//关闭连接\n            httpClient.close();  \n        }  \n        return html;  \n    }  \n}\n```\n然后利用jsoup的方法进行测试类的编写StockTest.java\n\n```\npackage cn.clay.httpclient.utils.test;\n\nimport java.io.IOException;\n\nimport org.apache.http.ParseException;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\nimport cn.clay.httpclient.utils.StockUtils;\n\n/**\n * \n * @author ClayZhang\n *\n */\npublic class StockTest {\n\n\tpublic static void main(String[] args) throws ParseException, IOException {\n\t\tString content = StockUtils.getHtmlByUrl(\n\t\t\t\t\"http://fa.163.com/zx/gjs/1/\");\n\t\tparserHtml(content);\n\t}\n\n\t\n\tpublic static void parserHtml(String content) throws ParseException, IOException {\n\t\tDocument doc = Jsoup.parse(content);\n\t\tElements links = doc.getElementsByClass(\"g-news\").select(\"dl\");\n\t\tfor (Element e : links) {\n\t\t\tSystem.out.println(\"新闻标题:\" + e.select(\"a\").text().toString());\n\t\t\t//获取页面链接\n\t\t\tElements linkHref = e.select(\"a\");\n\t\t\t//截取时间字符串\n\t\t\tElements timeStr = e.select(\"span[class=f-fr]\");\n\t\t\t//简略信息\n\t\t\tElements comment = e.select(\"span[class=f-fl f-ofe u-digest]\");\n\t\t\tSystem.out.println(\"新闻链接:\" + linkHref.attr(\"href\"));\n\t\t\tSystem.out.println(\"发布时间:\" + timeStr.text());\n\t\t\tSystem.out.println(\"简要信息:\" + comment.text().toString());\n\t\t\t\n\t\t\tSystem.out.println(\"=============================================================\");\n\t\t}\n\t\t\n\t}\n}\n```\n\n运行之后的效果如下\n![这里写图片描述](http://img.blog.csdn.net/20170414130328471?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQ2xheV9aaGFuZw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n本文版权归作者及CSDN所有，转载请注明作者及原文出处\n也可关注\nhttp://www.cnblogs.com/clayzhang","tags":["HttpClient+Jsoup"],"categories":["开发工具"]},{"title":"考研那些事（初试）","url":"/2018/05/22/考研两三事（初试）/","content":"\n## 考研那些事\n之前csdn和cnblog总是断断更更，事情一多也就懒得去更新blog了，接下来准备开始更新blog，都在这个个博上更新了～现在想想，还是把经历的一些事儿给记录一下吧～此帖为考研经验帖，任何经历、建议仅本人自身经验，各位根据自身情况酌情参考吧╭(●｀∀´●)╯\n<!-- more -->\n<The rest of contents | 余下全文>\n\n----------\n先说一下自己的情况，本科信息与计算科学（在学科大类下归数学系，说起来也算跨考，不过计算机的也都学，所以不算太跨吧）2017年6月毕业于浙大宁波理工（现在应该叫浙大宁波校区了( ‘-ωก̀ )），首先是收到京东公有云事业部产品开发offer，后来因为一点原因辞了～回到宁波某唐（万达信息子公司）～然后做医疗信息系统吧～大概八九月辞职了～那时候打算考研（觉得自己不应该就这样～想着去继续从事图形学、Machine Learning这一块），起初是考虑电子科大，不过后来辞职后也一直都没有复习（因为一些意外的事情，反正日子就是每天浑浑噩噩的那种吧）一直拖到10月中旬，要报名了，感觉这种状态肯定是不行的，然后就考虑了浙工大，实力也是可以，考虑到性价比挺高的（没想到今年杭州的竞争是愈发的激烈），名号什么其实不是决定性因素（各位学弟学妹别看得太重了）。10月份基本也是空白期（大家现在时间多，且珍惜啊，一定要好好利用，给自己复试争取主动）。就这样大概11月开始准备复习了。但是每天的状态其实就是比较艰辛的，每天晚上12点开始复习到凌晨3-4点吧，早上6起来，然后忙点其他事～吧啦吧啦，一直到下午吧，中途差不多有2-3小时空余时间学习一下老汤，背背单词听考虫的作文课，然后晚上继续忙别的事情，然后到12点周而复始，政治一直没看，直到考试前15天开始看的腿姐（新东方陆寓丰）冲刺课，专业课由于是考c++，前期看过一下试卷，觉得应该可以把握，所以把仅剩的那么点精力全部投入在公共课上，考前一周开始看专业课真题，书、视频啥的我是一点没看（不过我可以推荐我本科学习的时候看的视频给大家）直接刷真题，就刷了五六年，感觉摸到点套路就去考试了╮(๑·́ ₃·̀๑)╭（估计得气死很多）\n\n闲聊扯淡的基本情况结束(●’◡’●)ﾉ 下面进入正题\n\n---------------------------------------高能分割线1-------------------------------------------\n\n下面我来讲讲我的复习经历、买过的书、看过的视频、用过的手段吧、可借鉴参考\n\n政治\n--\n\n首先是政治吧，不仅是根据我的个人意见还包括身边的N多的同学的一致意见就是千万别太早开始看，暑假开始都早了～基本上如果没啥基础的（就是对政治完全懵逼）那么9月开始差不多了，自认为对政治还可以，平时也经常关注时事要闻的那么10月11月开始都不慌～\n\n再来说说政治复习的方法、资料吧～市面上已经把“肖某荣”给吹的神乎其神了，只能说营销手段真的厉害，但是就就实际而言，我觉得大多数靠水军，其实市面上其他小众老师真的对于考研政治有独到的理解，本人在此推荐“腿姐”（当然），12月5日开始在B站上看她的冲刺课，一边阅读（就是看完也顺带记记）一边记忆。之后做各类模拟卷（该买的卷子还是得买，不能省），只为了刷选择题，政治只要选择不差，分就不会低，到最后就是开始背那个押题的，我今年反正没有背过肖四和肖八～只刷了上面的选择题，还算巩固一下基础吧，大题就背了腿姐考前5天的押题班，10道题目，反正都中了。\n总结：\n书籍资料：\n前期：腿姐金牌讲义（最好把腿姐金牌班的金牌笔记去网上打印出来很便宜的）、徐涛的讲义（挺好的，根据使用他后期的书感觉出来的）、任爸（某都的，口碑较好没有体验过）\n中期：腿姐冲刺宝典（自己打印的，真的神器，强推）、徐涛8套卷、肖4、任4、米6、石6（反正我买来全只做选择题，有些可以自己打印，笔记便宜）\n后期：肖8、米3（选择题），继续巩固冲刺宝典、腿姐10题、徐涛20天20题\n视频：（腿姐金牌班、冲刺班、押题班），（徐涛一套视频），（任爸的一套）\n之所以一直推荐腿姐，是因为在一众老师里面，她讲的课是最少的，但是内容是精炼的，几乎没废话，而且讲课逻辑特别清晰，一本书你要是逻辑清晰，那读下来就不用担心了。\n\n## 英语 ##\n英语，我想是大家共同都害怕的吧，本人也不例外，在9月的时候开始背“朱主任”的恋恋有词，1天1个unit，一个月可以刷一遍，效果还是挺好，我是先一遍跟着视频，一边在书上做笔记，然后课后再背一遍，睡前再背一遍，反正就是做到当天能够中译英、英译中的水平。然后每学完10个unit，然后我就一边看着单词书一边默写英文把单词打到电脑上，然后休息一下，再在电脑上有对着英文，把中文按顺序单独写一个word，之后把10个unit单词和中文解释的word放到淘宝打印了3份，然后过一段时间自己默写，反正做到中译英，英译中，之后20个unit也是一样，当然这个是前期的做法，后期只要英译中基本就好了。\n阅读、写作什么的是之前报了一个考虫英语系统班（399，现在涨价499），阅读就跟着听了一半多吧，反正就是做真题，然后听陈大师给你解读，还可以，不过本人对英语的复习就是随缘吧(,,·́ . ·̀,,) 当然市面上kk三步法据说也挺好，就是Kevin的课，太长了就没跟～～大家英语根据自己的程度去相应的复习吧。\n这里我就特别说一下考虫石雷鹏，人称石小宝，他的作文课是我唯一听完的课，一节不落，有些还听了多遍，真的好，功能句法来背诵作文，真的其实我们不是不会写英语作文，可能是我们不会写中文作文，石麻麻真的教会了我如何写一篇作文，感觉根本不会没东西写，刷刷刷可以写很多，这个真的！比起其他人在背某东方的某百万粉丝的某涛的作文的舒服多了，而且也不会担心忘记，因为我觉得我明白了作文的逻辑，只要功能句往上套就ok了！（真心觉得为我英语复习节省了大量的时间！！大家可以单报他的作文）\n还有就是最后最后刘晓艳的保命45分，上课风格真的幽默，哈哈哈我反正都没买过都是B站看的，她的完型套路真的好，让我今年拿了6分！！\n哈哈哈反正我是随缘的英语，今年65，单词到考前背的基本都忘了～感觉就是作文拯救的我\n总结：\n书籍：恋恋有词、真题卷、石雷鹏的作文讲义\n视频：考虫的、何Kevin的都ok\n\n## 数学 ##\n好了，考研第一天其实就是热身，给你们一点热身的准备，第一天的总分200分不会拉多少分的。第二天上午开始就是考研的核心之战了，往年常有数学考完，下午考场少了好几个人。哈哈，但是也不用紧张，数学就是那种你投入多少就会收到多少回报的学科，所以只要你真的有考研的决心，那就别担心了！\n数学这门课，我觉得我复习的中规中矩，只不过可能有点被李林打乱的节奏，哈哈还好有点底子，不然差点三位数都没有了～好了，不说过去了，反正今年你们放心，命题组全部换人了，趋势都是偏向扎实的基础题，所以你们努力了就会有回报的（吃水不忘挖井人呐～）\n我的数学复习，起初信心不是很大，因此复习资料也是网上看的鱼目混珠，啥好就买啥，反正也没有报什么线下班，这点书钱都是钱，考个研该花的钱还是得花～比如我买了汤家凤的各类数学讲义+1800题+真题、李永乐的复习全书+真题+阶段练习+660题、张宇的1000题+8套卷+4套卷、还有合工大的超越卷和共创卷、还有一些网上打印的新东方十年真题混编、考虫数学冲刺讲义等等，在这么多的书籍资料中，使用最多的就是那几类，所以没必要花太多冤枉钱，我这就是前车之鉴了～～～\n我的复习是这样的，你们可以根据自身借鉴借鉴（反正我自认为自己不是个很聪明的人，需要靠勤能补拙的那种）～刚开始不看书，直接就跟着汤家凤的基础班视频高数线代轮着看，然后拿两本厚厚的空白笔记本，开始记笔记，有些人可能会问怎么记笔记，反正我就是他上课写了啥，我就记啥，写啥我就记啥，这样到最后一个基础班可以记满两大本笔记本，这个笔记本用处可大了，当然上完一部分内容结合讲义和笔记去回顾理解这是很必要的，然后没练题因为我那时候没啥时间了，你们可以做做基础题，然后我就开始看汤家凤强化班的视频，也是又拿两本空白的笔记本，也是一样的套路，他写啥我就记啥～适当的地方做标记，然后和基础班视频比较一下，查漏补缺。然后在听不懂的地方，我会去看张宇视频的相应内容（比如汤神二重积分那边讲的抽象了一点没懂，那我就去张宇那边在听一遍二重积分，也许就会恍然大悟，如果还没有可以在看考虫燕儿妈的，我会在微博上问她问题挺好），强化班看完后就开始做练习题了，我是做1800的，刚开始很不适应，但是这个时候心态很重要，千万别崩～别觉得连基础题都不会还考啥研，相信我，这种感觉我也同样经历过，但是这时候反正你只要记住心态稳住，按自己的情况调整自己就好了！别去在乎别人的想法！！做题的时候，最好能有个错题本，哈哈哈！\n大概1800反正我没做完，反正我到11月才开始真题，你们9月底的样子可以开始1刷真题了，建议把16-18的真题留着，用来之后模拟～最好大家做真题的时候就认真的做，把我给大家的答题卡打印出来，认真的做！第一次别灰心，分数肯定不会很好看的，我第一次做都还有80多分的情况呢，适应了就好了！真的你们经历过的我也会同样经历，大家都一样，只不过有些人喜欢装下逼所以大家觉得很牛逼，其实都一样的～～真题我就是刷最新15年的2003-2017，你们可以2003-2018，足够了，流程一般是这样，第一天做真题，做完对答案，然后自己去订正题目，第二天看汤神或者考虫的真题讲解，然后查漏补缺，不懂的知识点记得标注！！就这样刷完一遍真题，然后又开始看之前的错题，或者做做模拟卷（可以做往年的合工大的模拟卷、汤家凤的最后五套题，想挑战的也可以张宇8套、4套不过难度太大，感觉意义不大了）做完一波模拟卷你肯定会信心受挫，这是距离你们复习也过去很久，内心肯定也会焦躁不安、甚至动摇、反正各种心态都有，所以这时候一定要坚定初心，如果自己意志力不行或者很闷难受，欢迎来撩～\n做完模拟卷，那就可以2刷真题了，同样的套路，同样的做法，你会发现你真的进步了，不是说靠记忆做出来，因为时间这么久过去你真的会忘记第一遍是咋做的，差不多你只能记得这题做过，所以不用担心，是你真的进步了的结果！\n2刷完，就针对不懂的地方继续查漏补缺啊！！我花2晚上刷完复习全书，因为想着买来也浪费，就看看，然后就是经常看自己的笔记，反正最后几本不看书，就看自己的笔记，因为跟书差不多～～\n线代不好的同学，我推荐再去把李永乐的线代讲义买来，配着他的线代视频看（都是配套的）他不愧于线代王的称号！\n最后一段时间，我报了一个考虫的冲刺班（99），效果也还好，又把遗漏的知识补充了一下，物超所值！！做做讲义上的题目，然后有时间可以3刷真题，没有的话就部分题、部分年刷一刷～对了之前16-18的题目在2刷的时候可以拿来模拟了！！只要付出了就别太担心！！从始至终，张宇的1000题和4套卷塑封都没拆～\n总结：\n书籍资料：汤家凤高数、线代讲义+接力题典1800+15年真题，李永乐线代讲义，8套、4套酌情，还有李永乐6+2\n视频：汤神基础+强化+冲刺、考虫真题班、张宇（查漏补缺）、李永乐线代专项\n\n## 专业课 ZheJiang University of Technology\n ﾍ(;´Д｀ﾍ)终于说到专业课了～专业课的话分我是平时没咋复习，大二学的c++，平时用的不多，但是封装继承多态这个套路还是记得一些的，所以也就一直都没复习，平时就是在群里看见有人问问题，然后回答一下，不知道的就查一下，没用过书，包括自己本科上的教材都没用过，直接就百度查，csdn、cnblog上大牛都会讲解的很清楚～或者就看c++ prime这种工具书～然后直到考前一周，开始刷真题了，就刷了几年～感觉摸到一点套路了，比如你们可以观察，从2013年开始奇数年、偶数年貌似题目就开始有规律，比如2014-2016，2013-2015都有重复题，这个你们自己去发现吧(·ิ_·ิ)\n好了针对大多数跨考的，我给出一点我个人的意见，也包括了解了今年一起面试的其他跨考的同学的经验。我的建议是，首先抓紧把c++的三大特性的基本套路搞会，这个基本就是编程题的最后2题，60分呢～阅读题也会有6-12分吧～总之比重很大～然后可以针对着我提供的视频去看，我觉得mooc上的视频是最经典的，我哪里不懂了就在这上面看，效果真的好，现在大家就别纠结数据结构这些408科目，先一门心思把初试的c++考好。（别把教材当成一本故事书，从头到尾的看，这样永远学不会编程），后来我在实际中也深有体会，很多都是在项目中边做边学的，这样是最行之有效的拉～应试也一样，不过对于跨考的同学来说基础程序还是需要去打打的，基本只要看看阅读题，反正845和958都看看，题目都差不多，足够了！各位别紧张，Be with you ꒰๑´·.̫ · `๑꒱\n之后我还可以提供我本科的上课的ppt给大家，不用从头看到尾，就当工具来看，用来查漏补缺，你们需要做的就是看题目，然后找到自己哪一块有问题，然后去补那一块！！有基础的就更不用慌，10月份开始都没事，跨考的可以根据自身情况6、7、8月开始都可以๑乛◡乛๑ 对了大家也不需要专业课的其他资料了，再多都是多余了，浪费钱，真心不推荐，有钱不如去买点好的公共课资料，嘻嘻\n总结：\n书籍资料：把每份真题打印出来，前期845和958一起练习，2刷的时候就单刷845或者958\n视频：\n[（1）C++起航篇](https://www.imooc.com/learn/342)\n[（2）C++封装篇上](https://www.imooc.com/learn/382)\n[（3）C++封装篇上](https://www.imooc.com/learn/405)\n[（4）C++继承篇](https://www.imooc.com/learn/426)\n[（5）C++多态篇](https://www.imooc.com/learn/474)\n[（6）这个是西工大的精品mooc，时间久点，根据情况选](https://www.icourse163.org/course/NWPU-494001)\n\n（1）-（5）时间都很短的，要仔细听的话一两天就可以听完，基本就会有概念了～\n\n高\n---------------------------------------高能分割线2-------------------------------------------\n\n----------\n\n终于扯完了初试的每门课，可能没有很详细，如果细节上有问题，还可以再问～问最后再和大家讲讲，考研考的不是说知识内容有多广泛，我觉得更重要的心态问题！千万别因为别人的复习进度而影响了自己的计划，一切都按照自己的计划安排走，一定可以的！！！相信自己！我也是和你们一样走过来的！！考研多半其实就是和自己心态的作战，真的会有很多人很多人在9月、10月或者11月出现各种疲乏感，或者是那种无心迎战的感觉，各种失落都伴随着，总之各种负面情绪都缠着，这时候千万千万要挺过去不要放弃，如果需要及时的鸡汤或者心灵的毛血旺可以随时来撩︶ε╰✿ ✿◡‿◡\n\n好了初试篇大概就这样，明天更复试篇(。￫‿￩。)\n","tags":["考研"],"categories":["随笔生活"]},{"title":"clay-test2","url":"/2018/05/18/clay-test2/","content":"** {{ title }}: ** <Excerpt in index | 首页摘要>\n测试\n<!-- more -->\n<The rest of contents | 余下全文>\nToday , I have to make plans to learn Deep-Learning. \n哈哈哈哈，测试一下","tags":["test"],"categories":["开发工具"]},{"title":"clay-test 语言测试","url":"/2018/05/17/clay-test/","content":"\n测试\n<!-- more -->\n<The rest of contents | 余下全文>\nToday , I have to make plans to learn Deep-Learning. \n哈哈哈哈，测试一下","tags":["test"],"categories":["深度学习"]},{"title":"clay-test 语言测试","url":"/2018/05/17/clay-test3/","content":"\n测试\n<!-- more -->\n<The rest of contents | 余下全文>\nToday , I have to make plans to learn Deep-Learning. \n哈哈哈哈，测试一下","tags":["test"],"categories":["开发工具"]}]